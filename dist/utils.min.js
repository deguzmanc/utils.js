!function(n,t){"function"==typeof define&&define.amd?(define("@fabiocaccamo/utils.js",t),define("@fabiocaccamo/utils",t),define("utils.js",t),define("utils",t)):"object"==typeof module?module.exports=t():(n.utils=t(),n.u=t())}(this,function(){"use strict";var n={clean:function(t,r){var e=t.slice();return e=e.filter(function(n,t,r){return!w.isNone(n)}),!0===r&&(e=e.map(function(t,e,o){switch(w.of(t)){case w.ARRAY:return n.clean(t,r);case w.OBJECT:return v.clean(t,r);default:return t}}).filter(function(n,t,r){return w.isSetAndNotEmpty(n)})),e},equals:function(n,t){return v.equals(n,t)},flatten:function(t){for(var r=[],e=0,o=t.length;e<o;e++)w.isArray(t[e])?r.push.apply(r,n.flatten(t[e])):r.push(t[e]);return r},index:function(n,t,r){var e,o,i,a={};w.isString(t)&&(t=[t]);for(var u=0,c=n.length;u<c;u++){e=n[u];for(var s=0,f=t.length;s<f;s++)o=String(t[s]),i=String(e[o]),!0===r?a[i]=e:(null==a[i]&&(a[i]=[]),a[i].push(e))}return a},paginate:function(n,t){var r,e,o=n.length,i=t>0?Math.ceil(o/t):0,a=[];for(r=0,e=0;r<i;r++)e=r*t,a[r]=n.slice(e,e+Math.min(t,o));return a},reduce:function(n,t,r){for(var e=void 0===r?0:r,o=0,i=n.length;o<i;o++)e=t(e,n[o],o,n);return e},scroll:function(n,t){var r=N.cycle(t,n.length);return n.slice(r).concat(n.slice(0,r))},shuffle:function(n){for(var t,r,e=n.slice(),o=n.length;o;)t=b.integer(0,--o),r=e.splice(t,1),e.push.apply(e,r);return e},sort:function(n,t){return n.sort(function(n,r){var e,o;w.isString(t)?(e=t in n?n[t]:n,o=t in r?r[t]:r):(e=n,o=r);var i=w.isNumber(e),a=w.isNumber(o);if(i&&a)return e<=o?-1:1;if(i)return-1;if(a)return 1;var u=[e,o];return u.sort(),u.indexOf(e)<=u.indexOf(o)?-1:1})},unique:function(n){for(var t,r=[],e=function(n){return!v.equals(t,n)},o=0,i=n.length;o<i;o++)t=n[o],r.every(e)&&r.push(t);return r},unzip:function(t){return n.zip.apply(null,t)},zip:function(n,t){var r=s.args(arguments),e=0;r.forEach(function(n){e=0==e?n.length:Math.min(e,n.length)});for(var o=[],i=0;i<e;i++){o[i]=[];for(var a=0,u=r.length;a<u;a++)o[i][a]=r[a][i]}return o}},t={CHARS:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",CHARS_LIST:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/","="],CHARS_TABLE:{A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"=":64},decode:function(n){var r=n.replace(/[^A-Za-z0-9\+\/\=]/g,""),e="";try{return e=window.atob(r),e=R.decode(e)}catch(n){}for(var o,i,a,u,c,s,f=t.CHARS_TABLE,l=0,g=r.length;l<g;)o=f[r.charAt(l++)]<<2|(u=f[r.charAt(l++)])>>4,i=(15&u)<<4|(c=f[r.charAt(l++)])>>2,a=(3&c)<<6|(s=f[r.charAt(l++)]),e+=String.fromCharCode(o),64!=c&&(e+=String.fromCharCode(i)),64!=s&&(e+=String.fromCharCode(a));return e=R.decode(e)},encode:function(n){var r=R.encode(n),e="";try{return e=window.btoa(r)}catch(n){}for(var o,i,a,u,c,s,f,l=t.CHARS_LIST,g=0,h=r.length;g<h;)u=(o=r.charCodeAt(g++))>>2,c=(3&o)<<4|(i=r.charCodeAt(g++))>>4,s=(15&i)<<2|(a=r.charCodeAt(g++))>>6,f=63&a,isNaN(i)?s=f=64:isNaN(a)&&(f=64),e+=l[u]+l[c]+l[s]+l[f];return e}},r={average:function(n){return o.average(n.map(function(n){return r.toRgb(n)}))},gradient:function(n,t){return o.gradient(n.map(function(n){return r.toRgb(n)}),t)},gradientMatrix:function(n,t,e){return o.gradientMatrix(n.map(function(n){return r.toRgb(n)}),t,e)},interpolateBilinear:function(n,t,e,i,a,u){return o.toCmyk(o.interpolateBilinear(r.toRgb(n),r.toRgb(t),r.toRgb(e),r.toRgb(i),a,u))},interpolateLinear:function(n,t,e){return o.toCmyk(o.interpolateLinear(r.toRgb(n),r.toRgb(t),e))},interpolateMultilinear:function(n,t){return o.interpolateMultilinear(n.map(function(n){return r.toRgb(n)}),t)},toCmyk:function(n){return n},toGrayscale:function(n){return o.toGrayscale(r.toRgb(n))},toHex:function(n,t){return o.toHex(r.toRgb(n),t)},toHsl:function(n){return o.toHsl(r.toRgb(n))},toHsv:function(n){return o.toHsv(r.toRgb(n))},toRgb:function(n){var t=n.c/100,r=n.m/100,e=n.y/100,o=n.k/100,i=1-Math.min(1,t*(1-o)+o),a=1-Math.min(1,r*(1-o)+o),u=1-Math.min(1,e*(1-o)+o);return{r:i=Math.round(255*i),g:a=Math.round(255*a),b:u=Math.round(255*u)}},toString:function(n){return"{ c:"+String(n.c)+", m:"+String(n.m)+", y:"+String(n.y)+", k:"+String(n.k)+" }"},toStringCSS:function(n){return"cmyk("+String(n.c)+"%, "+String(n.m)+"%, "+String(n.y)+"%, "+String(n.k)+"%)"}},e={average:function(n){return o.average(n.map(function(n){return e.toRgb(n)}))},gradient:function(n,t){return o.gradient(n.map(function(n){return e.toRgb(n)}),t)},gradientMatrix:function(n,t,r){return o.gradientMatrix(n.map(function(n){return e.toRgb(n)}),t,r)},interpolateBilinear:function(n,t,r,i,a,u){return o.toCmyk(o.interpolateBilinear(e.toRgb(n),e.toRgb(t),e.toRgb(r),e.toRgb(i),a,u))},interpolateLinear:function(n,t,r){return o.toCmyk(o.interpolateLinear(e.toRgb(n),e.toRgb(t),r))},interpolateMultilinear:function(n,t){return o.interpolateMultilinear(n.map(function(n){return e.toRgb(n)}),t)},toCmyk:function(n){return n},toGrayscale:function(n){return o.toGrayscale(e.toRgb(n))},toHex:function(n,t){return o.toHex(e.toRgb(n),t)},toHsl:function(n){return o.toHsl(e.toRgb(n))},toHsv:function(n){return o.toHsv(e.toRgb(n))},toRgb:function(n){var t,r,e,o=g.decodeInt,i=g.encodeInt;switch((t=(t=w.isNumber(n)?i(n):String(n).replace(/\#|0x/,"")).toUpperCase()).length){case 3:r={a:1,r:o((e=/^([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i.exec(t))[1]+e[1]),g:o(e[2]+e[2]),b:o(e[3]+e[3])};break;case 6:r={a:1,r:o((e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))[1]),g:o(e[2]),b:o(e[3])};break;case 8:r={a:o((e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))[1])/255,r:o(e[2]),g:o(e[3]),b:o(e[4])}}return r},toString:function(n){return e.toHex(n,"0x")},toStringCSS:function(n){return e.toHex(n,"#")}},o={average:function(n){for(var t=n[0],r=o.interpolateLinear,e=1,i=n.length;e<i;e++)t=r(t,n[e],.5);return t},gradient:function(n,t){for(var r,e=[],i=o.interpolateMultilinear,a=1/Math.max(1,t-1),u=N.constrain,c=0;c<t;c++)r=i(n,u(c*a,0,1)),e.push(r);return e},gradientMatrix:function(n,t,r){var e=n.topLeft,i=n.top,a=n.topRight,u=n.right,c=n.bottomLeft,s=n.bottom,f=n.bottomRight,l=n.left,g=n.center,d=o.average,N=o.interpolateBilinear;i||(i=d([e,a])),u||(u=d([f,a])),s||(s=d([c,f])),l||(l=d([e,c])),g||(g=d([i,l,s,u]));var p,v,b,y,m,E,w=[[[e,l,g,i],[i,g,u,a]],[[l,c,s,g],[g,s,f,u]]],M=[],R=h.scalar;for(E=0;E<r;E++)for(M[E]=[],y=R(2,E/(r-1)||0),m=0;m<t;m++)b=R(2,m/(t-1)||0),e=(p=w[y.index][b.index])[0],c=p[1],f=p[2],v=N(e,c,a=p[3],f,y.t,b.t),M[E][m]=v;return M},interpolateBilinear:function(n,t,r,e,i,a){var u=o.interpolateLinear;return u(u(n,t,i),u(r,e,i),a)},interpolateLinear:function(n,t,r){var e=h.linear;return{r:e(n.r,t.r,r),g:e(n.g,t.g,r),b:e(n.b,t.b,r),a:e(n.a,t.a,r)}},interpolateMultilinear:function(n,t){var r=h.scalar(n.length-1,t),e=r.index;return o.interpolateLinear(n[e],n[e+1],r.t)},toCmyk:function(n){var t=n.r/255,r=n.g/255,e=n.b/255,o=Math.min(1-t,1-r,1-e),i=1-t-o,a=1-r-o,u=1-e-o,c=1-o;return c>0&&(i/=c,a/=c,u/=c,o/=c),{c:i=Math.round(100*i),m:a=Math.round(100*a),y:u=Math.round(100*u),k:o=Math.round(100*o)}},toGrayscale:function(n,t){},toHex:function(n,t){var r=isNaN(n.a)?isNaN(n.alpha)?1:n.alpha:n.a,e=isNaN(n.r)?isNaN(n.red)?0:n.red:n.r,o=isNaN(n.g)?isNaN(n.green)?0:n.green:n.g,i=isNaN(n.b)?isNaN(n.blue)?0:n.blue:n.b,a=g.encodeInt,u=a(255*r),c=a(e),s=a(o),f=a(i);return String((t||"#")+(r>=1?"":u)+c+s+f)},toHsl:function(n){},toHsv:function(n){},toRgb:function(n){return n},toString:function(){return"{ r:"+String(color.r)+", g:"+String(color.g)+", b:"+String(color.b)+", a:"+String(isNaN(color.a)?1:color.a)+" }"},toStringCSS:function(n){return"rgba("+String(n.r)+", "+String(n.g)+", "+String(n.b)+", "+String(isNaN(n.a)?1:n.a)+")"}},i={cmyk:r,cmykToGrayscale:r.toGrayscale,cmykToHex:r.toHex,cmykToHsl:r.toHsl,cmykToHsv:r.toHsv,cmykToRgb:r.toRgb,hex:e,hexToCmyk:e.toCmyk,hexToGrayscale:e.toGrayscale,hexToHsl:e.toHsl,hexToHsv:e.toHsv,hexToRgb:e.toRgb,rgb:o,rgbToCmyk:o.toCmyk,rgbToGrayscale:o.toGrayscale,rgbToHex:o.toRgb,rgbToHsl:o.toHsl,rgbToHsv:o.toHsv},u={timestamp:function(){return(new Date).getTime()},yyyymmdd:function(n){var t=n||new Date,r=t.getFullYear(),e=t.getMonth()+1,o=t.getDate();return[String(r),(e>9?"":"0")+String(e),(o>9?"":"0")+String(o)].join("")}},c={backIn:function(n,t){return n*n*(((t=isNaN(t)?1.70158:t)+1)*n-t)},backInOut:function(n,t){return t=isNaN(t)?1.70158:t,(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},backOut:function(n,t){return(n-=1)*n*(((t=isNaN(t)?1.70158:t)+1)*n+t)+1},bounceIn:function(n){return(n=1-n)<1/2.75?1-7.5625*n*n:n<2/2.75?1-(7.5625*(n-=1.5/2.75)*n+.75):n<2.5/2.75?1-(7.5625*(n-=2.25/2.75)*n+.9375):1-(7.5625*(n-=2.625/2.75)*n+.984375)},bounceInOut:function(n){return n<.5?(n=1-n)<1/2.75?1-7.5625*n*n:n<2/2.75?1-(7.5625*(n-=1.5/2.75)*n+.75):n<2.5/2.75?1-(7.5625*(n-=2.25/2.75)*n+.9375):1-(7.5625*(n-=2.625/2.75)*n+.984375):n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},circularIn:function(n){return-(Math.sqrt(1-n*n)-1)},circularInOut:function(n){return(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},circularOut:function(n){return Math.sqrt(1-(n-=1)*n)},cubicIn:function(n){return n*n*n},cubicInOut:function(n){return(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},cubicOut:function(n){return(n-=1)*n*n+1},elasticIn:function(n,t,r){return 0==n?0:1==n?1:(t=isNaN(t)?0:t,r=isNaN(r)?.3:r,t<1?(t=1,e=r/4):e=r/(2*Math.PI)*Math.asin(1/t),-t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r));var e},elasticInOut:function(n,t,r){return 0==n?0:2==(n/=.5)?1:(t=isNaN(t)?0:t,.3==(r=isNaN(r)?.3:r)&&(r*=1.5),t<1?(t=1,e=r/4):e=r/(2*Math.PI)*Math.asin(1/t),n<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)*.5+1);var e},elasticOut:function(n,t,r){return 0==n?0:1==n?1:(t=isNaN(t)?0:t,r=isNaN(r)?.3:r,t<1?(t=1,e=r/4):e=r/(2*Math.PI)*Math.asin(1/t),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/r)+1);var e},exponentialIn:function(n){return 0==n?0:Math.pow(2,10*(n-1))},exponentialInOut:function(n){return 0==n?0:1==n?1:(n/=.5)<1?.5*Math.pow(2,10*(n-1)):.5*(2-Math.pow(2,-10*(n-=1)))},exponentialOut:function(n){return 1==n?n:1-Math.pow(2,-10*n)},none:function(n){return n},quadraticIn:function(n){return n*n},quadraticInOut:function(n){return(n/=.5)<1?.5*n*n:-.5*((n-=1)*(n-2)-1)},quadraticOut:function(n){return-n*(n-2)},quarticIn:function(n){return n*n*n*n},quarticInOut:function(n){return(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quarticOut:function(n){return-((n-=1)*n*n*n-1)},quinticIn:function(n){return n*n*n*n*n},quinticInOut:function(n){return(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},quinticOut:function(n){return(n-=1)*n*n*n*n+1},sexticIn:function(n){return n*n*n*n*n*n},sexticInOut:function(n){return(n/=.5)<1?.5*n*n*n*n*n*n:-.5*((n-=2)*n*n*n*n*n-2)},sexticOut:function(n){return-((n-=1)*n*n*n*n*n-1)},sineIn:function(n){return 1-Math.cos(n*(Math.PI/2))},sineInOut:function(n){return-.5*(Math.cos(Math.PI*n)-1)},sineOut:function(n){return Math.sin(n*(Math.PI/2))},waveCosine:function(n,t,r,e){t=isNaN(t)?1:t,r=!0===r,e=!0===e;var o=Math.cos(Math.PI*n*t);return o=r?Math.abs(o):o,o=e?1-o:o},waveSawtooth:function(n,t,r,e){e=!0===e;var o=n*(t=isNaN(t)?1:t)%1;return o=(r=!0===r)?Math.abs(o):o,o=e?1-o:o},waveSine:function(n,t,r,e){t=isNaN(t)?1:t,r=!0===r,e=!0===e;var o=Math.sin(Math.PI*n*t);return o=r?Math.abs(o):o,o=e?1-o:o}},s={args:function(n,t){return[].slice.call(n,t||0)},attempt:function(n,t){try{var r=s.args(arguments);return s.call.apply(null,r)}catch(n){return n}},bind:function(n,t){var r=s.args(arguments);return function(){return s.call.apply(null,r)}},call:function(n,t){w.isString(n)&&(n=t[n]);var r=s.args(arguments,2);return n.apply(t,r)},delay:function(n,t,r){var e=s.args(arguments,3),o=s.bind.apply(null,[t,r].concat(e)),i=setTimeout(o,n);return{cancel:function(){clearTimeout(i)},func:o,id:i}},memoize:function(n,t){var r={};return function(){var e=s.args(arguments),o=String(e);return o in r||(r[o]=s.call.apply(null,[n,t].concat(e))),r[o]}},noop:function(){return!0},repeat:function(n,t,r){var e=s.args(arguments,3),o=s.bind.apply(null,[t,r].concat(e)),i=setInterval(o,n);return{cancel:function(){clearInterval(i)},func:o,id:i}},validate:function(n){var t,r,e,o,i=s.args(n),a=s.args(arguments,1);for(t=0,r=a.length;t<r;t++)w.isArray(a[t])||(a[t]=[a[t]]);for(var u,c,f=a.length;f>0&&-1!==a[f-1].indexOf("undefined");)f--;if(i.length<f)throw new TypeError("invalid arguments count: received "+i.length+", expected "+f+" arguments.");for(t=0,r=a.length;t<r;t++)for(e=0,o=a[t].length;e<o;e++)if(!w.isType(a[t][e]))throw new TypeError('invalid argument: expected type "'+String(a[t][e])+'" is not a valid type.');for(t=0,r=i.length;t<r;t++)if(i[t],u=w.of(i[t]),-1==(c=a[Math.min(t,a.length-1)]).indexOf(u))throw new TypeError("invalid argument: type of argument["+t+'] is "'+u+'", expected "'+c.join('" or "')+'".')}},f={add:function(n,t){return{x:n.x+t.x,y:n.y+t.y}},angle:function(n,t){var r=E.angleD(t.y-n.y,t.x-n.x);return E.cycleD(r)},cross:function(n,t){return n.y*t.x-n.x*t.y},distance:function(n,t){var r=t.x-n.x,e=t.y-n.y;return Math.sqrt(r*r+e*e)},dot:function(n,t){return n.x*t.x+n.y*t.y},equals:function(n,t){return n.x===t.x&&n.y===t.y},interpolate:function(n,t,r){var e=N.interpolate.linear;return{x:e(n.x,t.x,r),y:e(n.y,t.y,r)}},project:function(n,t,r){return{x:n.x+t*E.cosD(r),y:n.y+t*E.sinD(r)}},rotate:function(n,t,r){var e=r||{x:0,y:0},o=f.subtract(n,e),i=Trigo.cosD(t),a=Trigo.sinD(t),u={x:o.x*i-o.y*a,y:o.x*a+o.y*i};return f.add(u,e)},scale:function(n,t){return{x:a.x*t,y:a.y*t}},subtract:function(n,t){return{x:n.x-t.x,y:n.y-t.y}},translate:function(n,t,r){return n.x+=t,n.y+=r,n}},l={point:f},g={decodeInt:function(n){return parseInt(n,16)},encodeInt:function(n){var t=Math.round(n).toString(16).toUpperCase();return 1==t.length?"0"+t:t}},h={bilinear:function(n,t,r,e,o,i){var a=h.linear;return a(a(n,t,o),a(r,e,o),i)},linear:function(n,t,r){return n*(1-r)+t*r},multilinear:function(n,t){var r=h.scalar(n.length-1,t),e=r.index;return h.linear(n[e],n[e+1],r.t)},scalar:function(n,t){var r=t*n,e=Math.floor(r),o=n-1,i=N.constrain(e,0,o);return{index:i,t:r-i}}},d={decode:function(n){return JSON.parse(n)},encode:function(n){return JSON.stringify(n)}},N={average:function(n){return N.summation(n)/n.length},constrain:function(n,t,r){return Math.min(Math.max(n,Math.min(t,r)),Math.max(t,r))},cycle:function(n,t){return(n%t+t)%t},factorial:function(n){for(var t=1,r=t;r<=n;r++)t*=r;return t},gcd:function(n,t){return n==t?n:(n<t&&(n^=t,n^=t^=n),N.gcd(n-t,t))},interpolation:h,lcm:function(n,t){return n*t/N.gcd(n,t)},lerp:function(n,t,r){return h.linear(n,t,r)},map:function(n,t,r,e,o){return h.linear(e,o,N.normalize(n,t,r))},nearest:function(n,t,r){return Math.abs(n-t)<=Math.abs(n-r)?t:r},normalize:function(n,t,r){return(n-t)/(r-t)},proportion:function(t,r,e,o){var i=s.args(arguments);return 3!=n.clean(i).length?NaN:w.isNumber(t)?w.isNumber(r)?w.isNumber(e)?w.isNumber(o)?NaN:e*r/t:o*t/r:t*o/e:r*e/o},roundDecimals:function(n,t){return Number(n.toFixed(t||2))},roundToMultiple:function(n,t){return Math.round(n/t)*t},roundToNearest:function(t,r){var e=n.sort(r.concat()),o=0,i=0,a=e.length;if(0==a)return NaN;if(a>2)for(;i<a;)if(t<e[o=Math.floor((i+a)/2)])a=o;else{if(!(t>e[o+1]))break;i=o+1}return i=o+1 in e?o+1:o,N.nearest(t,e[o],e[i])},roundToPower:function(n,t){return Math.pow(t,Math.round(Math.log(n)/Math.log(t)))},sign:function(n){return n>=0?1:-1},summation:function(n){for(var t=0,r=0,e=n.length;r<e;r++)t+=n[r];return t}},p={isBetween:function(n,t,r){return n>=t&&n<=r},isEven:function(n){return n%2==0},isFloat:function(n){return n%1!=0},isInt:function(n){return n%1==0},isNegative:function(n){return n<0},isOdd:function(n){return n%2!=0},isPositive:function(n){return n>=0},isPrime:function(n){if(!p.isUint(n))return!1;if(1==n||n%2==0)return!1;if(2==n)return!0;for(var t=3;t*t<=n;t+=2)if(n%t==0)return!1;return!0},isUint:function(n){return n%1==0&&n>=0}},v={assign:function(n){n=Object(n);for(var t=s.args(arguments),r=1,e=t.length;r<e;r++){var o=t[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},clean:function(t,r){var e,o;for(e in t){if(o=t[e],!0===r){switch(w.of(o)){case w.ARRAY:o=t[e]=n.clean(o,r);break;case w.OBJECT:o=t[e]=v.clean(o,r)}w.isSetAndNotEmpty(o)||(o=null)}w.isNone(o)&&delete t[e]}return t},clone:function(n){return null},decodeBase64:function(n){return d.decode(t.decode(n))},decodeJSON:function(n){return d.decode(n)},encodeBase64:function(n){return t.encode(d.encode(n))},encodeJSON:function(n){return d.encode(n)},equals:function(n,t){if(n===t||Object.is(n,t))return!0;var r,e,o,i;if((i=w.of(n))!==w.of(t))return!1;if("array"!==i&&"object"!==i)return String(n)==String(t);for(r in t)if(!(r in n))return!1;for(r in n)if(e=n[r],o=t[r],!(Object.is(n,e)||Object.is(t,o)||Object.is(e,o)||e===o)){if(String(e)!=String(o))return!1;if((i=w.of(e))!==w.of(o))return!1;if(("array"===i||"object"===i)&&!v.equals(e,o))return!1}return!0},keys:function(n,t){var r=Object.keys(n);return!0===t&&r.sort(),r},keypath:{get:function(n,t,r){for(var e=t.split("."),o=n,i=0,a=e.length;i<a;i++)o=o[e[i]];return void 0!==o?o:r},set:function(n,t,r){for(var e,o=t.split("."),i=n,a=0,u=o.length;a<u;a++)i[e=o[a]]=a<u-1?i[e]||{}:r,i=i[e]}},length:function(n){return v.keys(n).length},map:function(n,t){var r={};return v.keys(n).forEach(function(e){r[e]=t.call(null,n[e],e,n)}),r},merge:function(n,t,r){var e,o,i,a={},u=s.args(arguments);for(e=0,o=u.length;e<o;e++)for(i in u[e])a[i]=u[e][i];return a},values:function(n,t){for(var r=v.keys(n,t),e=[],o=0,i=r.length;o<i;o++)e.push(n[r[o]]);return e}},b={argument:function(){var n=s.args(arguments);return b.element(n)},bit:function(n){return b.boolean(n)?1:0},boolean:function(n){return Boolean(Math.random()<(isNaN(n)?.5:n))},color:function(){return b.integer(0,16777215)},element:function(n){return n[b.index(n)]},float:function(n,t){return n+Math.random()*(t-n)},index:function(n){return b.integer(0,n.length-1)},integer:function(n,t){return Math.floor(Math.round(b.float(n-.5,t+.5)))},sign:function(n){return b.boolean(n)?1:-1},string:function(n,t){for(var r=(t=t||"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!?@#$%^&*(-_=+).,;").split(""),e=b.element,o=0,i="";o++<n;)i+=e(r);return i}},y={contains:function(n,t){return 0!=n.length&&Boolean(n.indexOf(t)>-1)},icontains:function(n,t){return 0!=n.length&&y.contains(n.toLowerCase(),t.toLowerCase())},levenshteinDistance:function(n,t){var r,e,o=[],i=n.length,a=t.length;for(r=0;r<=i;r++){for(o[r]=[],e=0;e<=a;e++)o[r].push(0!=r?0:e);o[r][0]=r}for(r=1;r<=i;r++)for(e=1;e<=a;e++)o[r][e]=Math.min(o[r-1][e]+1,o[r][e-1]+1,o[r-1][e-1]+Math.floor(n.charAt(r-1)==t.charAt(e-1)));return o[i][a]},levenshteinSimilarity:function(n,t){var r=y.levenshteinDistance(n,t),e=Math.max(n.length,t.length);return 0==e?1:1-r/e},padLeft:function(n,t,r){for(var e=n.length;e<t;)n=r+n,e++;return n},padRight:function(n,t,r){for(var e=n.length;e<t;)n+=r,e++;return n},slugify:function(n){for(var t={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ű":"u","ý":"y","þ":"th","ÿ":"y","ẞ":"SS","œ":"oe","Œ":"OE","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"h","ώ":"w","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"H","Ώ":"W","Ϊ":"I","Ϋ":"Y","ş":"s","Ş":"S","ı":"i","İ":"I","ğ":"g","Ğ":"G","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Э":"E","Ю":"Yu","Я":"Ya","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"e","Ł":"L","Ń":"N","Ś":"S","Ź":"Z","Ż":"Z","ā":"a","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","ū":"u","Ā":"A","Ē":"E","Ģ":"G","Ī":"i","Ķ":"k","Ļ":"L","Ņ":"N","Ū":"u"},r=0,e=n.length;r<e;r++)t[n.charAt(r)]&&(n=n.replace(n.charAt(r),t[n.charAt(r)]));return n=(n=(n=(n=n.toLowerCase()).replace(/[^a-z0-9]/g,"-")).replace(/[-]+/g,"-")).replace(/^[-]|[-]$/g,"-")},toConstantCase:function(n){},toRandomCase:function(n){},toTitleCase:function(n){},toUpperCaseFirst:function(n,t){var r=n.substr(0,1).toUpperCase(),e=n.substr(1);return r+(!0===t?e.toLowerCase():e)},trim:function(n){return String.prototype.trim?n.trim():n.replace(/^\s+|\s+$/gm,"")}},m={assertArray:function(n,t){if(!w.isArray(n))throw new Error("value is not array.");w.isNumber(t)&&m.assertEqual(n.length,t)},assertBase64:function(n){if(!w.isBase64(n))throw new Error("value is not base64.")},assertBoolean:function(n){if(!w.isBoolean(n))throw new Error("value is not boolean.")},assertDate:function(n){if(!w.isDate(n))throw new Error("value is not date.")},assertEqual:function(n,t){if(!v.equals(n,t))throw new Error('values are not equals: "'+String(n)+'" != "'+t+'"')},assertError:function(n){if(!w.isError(n))throw new Error("value is not error.")},assertFalse:function(n){if(m.assertBoolean(n),!1!==n)throw new Error("value is not false.")},assertFunction:function(n){if(!w.isFunction(n))throw new Error("value is not function.")},assertJSON:function(n){if(!w.isJSON(n))throw new Error("value is not json.")},assertNaN:function(n){if(!w.isNaN(n))throw new Error("value is not NaN. "+n)},assertNone:function(n){if(!w.isNone(n))throw new Error("value is not none.")},assertNotArray:function(n){if(w.isArray(n))throw new Error("value is array.")},assertNotBase64:function(n){if(w.isBase64(n))throw new Error("value is base64.")},assertNotBoolean:function(n){if(w.isBoolean(n))throw new Error("value is boolean.")},assertNotDate:function(n){if(w.isDate(n))throw new Error("value is date.")},assertNotEquals:function(n,t){if(v.equals(n,t))throw new Error("values are equals: "+d.encode(n)+" != "+d.encode(t)+".")},assertNotError:function(n){if(w.isError(n))throw new Error("value is error.")},assertNotFunction:function(n){if(w.isFunction(n))throw new Error("value is function.")},assertNotJSON:function(n){if(w.isJSON(n))throw new Error("value is json.")},assertNotNone:function(n){if(w.isNone(n))throw new Error("value is none.")},assertNotNumber:function(n){if(w.isNumber(n))throw new Error("value is number.")},assertNotNull:function(n){if(w.isNull(n))throw new Error("value is null.")},assertNotObject:function(n){if(w.isObject(n))throw new Error("value is object.")},assertNotRegExp:function(n){if(w.isRegExp(n))throw new Error("value is regexp.")},assertNotString:function(n){if(w.isString(n))throw new Error("value is string.")},assertNotUndefined:function(n){if(w.isUndefined(n))throw new Error("value is undefined.")},assertNotXML:function(n){if(w.isXML(n))throw new Error("value is xml.")},assertNumber:function(n){if(!w.isNumber(n))throw new Error("value is not number.")},assertNumberAlmostEqual:function(n,t,r){if(m.assertNumber(n),m.assertNumber(t),w.isNumber(r)||(r=1e-10),Math.abs(n-t)>r)throw new Error("values are not almost equals (tolerance = "+r.toString()+"): "+n.toString()+" != "+t.toString()+".")},assertNull:function(n){if(!w.isNull(n))throw new Error("value is not null.")},assertObject:function(n){if(!w.isObject(n))throw new Error("value is not object.")},assertRegExp:function(n){if(!w.isRegExp(n))throw new Error("value is not regexp.")},assertString:function(n){if(!w.isString(n))throw new Error("value is not string.")},assertThrows:function(n){m.assertFunction(n);try{var t=s.args(arguments,1);t=[n,null].concat(t),s.call.apply(null,t)}catch(n){return}throw new Error("value didn't throw error.")},assertTrue:function(n){if(m.assertBoolean(n),!0!==n)throw new Error("value is not true.")},assertUndefined:function(n){if(!w.isUndefined(n))throw new Error("value is not undefined.")},assertXML:function(n){if(!w.isXML(n))throw new Error("value is not xml.")}},E={DEG_0:0,DEG_90:90,DEG_180:180,DEG_270:270,DEG_360:360,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,acosD:function(n){return Math.acos(n)*E.RAD_TO_DEG},angleD:function(n,t){return Math.atan2(n,t)*E.RAD_TO_DEG},angleR:function(n,t){return Math.atan2(n,t)},asinD:function(n){return Math.asin(n)*E.RAD_TO_DEG},atanD:function(n){return Math.atan(n)*E.RAD_TO_DEG},atanD2:function(n,t){return Math.atan2(n,t)*E.RAD_TO_DEG},cosD:function(n){return Math.cos(n*E.DEG_TO_RAD)},degToRad:function(n){return n*E.DEG_TO_RAD},fastD:function(n,t){var r=t-n;return r>E.DEG_180?-E.DEG_360+r:r<-E.DEG_180?E.DEG_360+t:t},hypo:function(n,t){return Math.sqrt(n*n+t*t)},radToDeg:function(n){return n*E.RAD_TO_DEG},sinD:function(n){return Math.sin(n*E.DEG_TO_RAD)},tanD:function(n){return Math.tan(n*E.DEG_TO_RAD)}},w={ARRAY:"array",BOOLEAN:"boolean",DATE:"date",ERROR:"error",FUNCTION:"function",NAN:"nan",NUMBER:"number",NULL:"null",OBJECT:"object",REGEXP:"regexp",STRING:"string",UNDEFINED:"undefined",UNKNOWN:"unknown",XML:"xml",isArray:function(n){return Array.isArray?Array.isArray(n):"[object Array]"===Object.prototype.toString.call(n)},isBase64:function(n){if(w.isString(n))try{if(""!==t.decode(n))return!0}catch(n){}return!1},isBoolean:function(n){return"boolean"==typeof n},isDate:function(n){return"[object Date]"===Object.prototype.toString.call(n)},isError:function(n){return n instanceof Error},isFunction:function(n){return"function"==typeof n},isJSON:function(n){if(w.isString(n))try{return d.decode(n),!0}catch(n){}return!1},isNaN:function(n){return Object.is(n,NaN)},isNone:function(n){return Object.is(n,void 0)||Object.is(n,null)||Object.is(n,NaN)},isNumber:function(n){return"number"==typeof n&&!isNaN(n)&&isFinite(n)},isNull:function(n){return null===n},isObject:function(n){return"object"==typeof n&&"[object Object]"===Object.prototype.toString.call(n)},isRegExp:function(n){return n instanceof RegExp},isSetAndNotEmpty:function(n){if(w.isNone(n))return!1;switch(w.of(n)){case w.ARRAY:return n.length>0;case w.OBJECT:return v.length(n)>0;case w.STRING:return y.trim(n).length>0;default:return!0}},isString:function(n){return"string"==typeof n},isType:function(n){switch(n){case w.ARRAY:case w.BOOLEAN:case w.DATE:case w.ERROR:case w.FUNCTION:case w.NAN:case w.NUMBER:case w.NULL:case w.OBJECT:case w.REGEXP:case w.STRING:case w.UNDEFINED:case w.UNKNOWN:case w.XML:return!0;default:return!1}},isUndefined:function(n){return void 0===n},isXML:function(n){return!1},of:function(n){return w.isArray(n)?w.ARRAY:w.isBoolean(n)?w.BOOLEAN:w.isDate(n)?w.DATE:w.isError(n)?w.ERROR:w.isFunction(n)?w.FUNCTION:w.isNaN(n)?w.NAN:w.isNumber(n)?w.NUMBER:w.isNull(n)?w.NULL:w.isRegExp(n)?w.REGEXP:w.isString(n)?w.STRING:w.isUndefined(n)?w.UNDEFINED:w.isXML(n)?w.XML:w.isObject(n)?w.OBJECT:w.UNKNOWN}},M={getParameterByName:function(n,t){var r=n.replace(/[\[\]]/g,"\\$&"),e=new RegExp("[?&]"+r+"(=([^&#]*)|&|#|$)").exec(t||M.getURL());return e?e[2]?decodeURIComponent(e[2]):"":null},getParameters:function(n){return{}},getURL:function(){var n="";try{n=window.location.href}catch(n){}return n},isFile:function(n){return 0===(n||M.getURL()).indexOf("file://")},isHttp:function(n){return 0===(n||M.getURL()).indexOf("http://")},isHttps:function(n){return 0===(n||M.getURL()).indexOf("https://")},isLocalhost:function(n){return/^(https?\:\/\/)(localhost|127\.0\.0\.1)(\:[\d]+)?(\/(.)*)?$/.test(n||M.getURL())}},R={decode:function(n){return decodeURIComponent(escape(n))},encode:function(n){return unescape(encodeURIComponent(n))}};return{array:n,base64:t,color:i,date:u,ease:c,func:s,geom:l,hex:g,json:d,math:N,number:p,object:v,random:b,string:y,test:m,trigo:E,type:w,xml:{removeNamespaces:function(n){return n.replace(/(\<(.|\n)+?\>)/g,function(n){return n.replace(/(\s|\<\/?){1}([\w]+\:){1}/g,"$1")})}},url:M,utf8:R}});